<!DOCTYPE html><html prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>ReactJS JSX · yie's Blog</title><meta name="description" content="ReactJS JSX - yie"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_1472710214_6648843.css"><link rel="stylesheet" href="//raw.githack.com/xwartz/hexo-theme-nuna/next/source/style/main.css?v=1.0.3"></head><body class="pupa"><div class="loading-bar"></div><main><div class="post post"><article itemscope itemtype="http://schema.org/Article" class="hentry"><div class="container"><div class="entry-header"><h1 class="entry-title">ReactJS JSX</h1><div class="entry-description"></div><div class="entry-meta"><time itemprop="datePublished" datetime="Tuesday, July 10th 2018, 4:59:44 pm" class="updated">Jul 10, 2018</time><em class="post-count">1,784 words</em></div></div><div itemprop="articleBody" class="entry-content"><p>JSX(JavaScript and XML)是ReactJS定义的一种JavaScript语法扩展.JSX是可选的,我们完全可以使用JavaScript编写ReactJS应用,不过JSX提供一套更为简洁的方式来写ReactJS应用.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用JSX</span></span><br><span class="line"><span class="keyword">const</span> bar = (</span><br><span class="line">  &lt;h1 className=<span class="string">'bingo'</span>&gt;</span><br><span class="line">    hello world!</span><br><span class="line">  &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不使用JSX</span></span><br><span class="line"><span class="keyword">const</span> bar = React.createElement(</span><br><span class="line">  <span class="string">'h1'</span>,</span><br><span class="line">  &#123; <span class="attr">className</span>: <span class="string">'bingo'</span> &#125;,</span><br><span class="line">  <span class="string">'hello world!'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>但是JSX有以下优点:</p>
<ul>
<li>他更快,因为它将代码编译为JavaScript时执行优化</li>
<li>它很安全,编译期间可以捕获大多数错误</li>
<li>你熟悉HTML,可以很轻松,快速的编写模板</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JSX中括号内允许放置任何有效的JavaScript表达式</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'Mike'</span>;</span><br><span class="line"><span class="keyword">const</span> element = &lt;h1&gt;hello, &#123; name &#125;&lt;/h1&gt;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  element,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当JSX拆分为多行时,我们应该将其包在一个括号内,避免浏览器自动插入分号</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们可以在if语句和for循环中使用JSX,将其分配给变量,接收它作为参数,并从函数返回它</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (user) &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;h1&gt;hello, &#123; user &#125;!&lt;/h1&gt;;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;h1&gt;hello, Mary!&lt;/h1&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们可以使用引号将字符串文字指定为属性</span></span><br><span class="line"><span class="keyword">const</span> bar = &lt;div tabIndex='0'&gt;&lt;/div&gt;;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我们可以使用大括号在属性中嵌入JavaScript表达式</span></span><br><span class="line"><span class="keyword">const</span> bar = &lt;img src=&#123; user.name &#125;&gt;&lt;/img&gt;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在JSX的标签中的同一属性上不能同时使用引号和大括号,JSX中采用<code>cameCase</code>(驼峰式命名)属性命名约定,<code>class</code>属性应该变成<code>className</code>,<code>tabindex</code>应该变成<code>tabIndex</code>,<code>for</code>属性必须变成<code>htmlFor</code>.</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JSX中所有标签都要闭合</span></span><br><span class="line"><span class="keyword">const</span> bar = &lt;img src=&#123; user.name &#125; /&gt;;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JSX中的标签可以包含子标签</span></span><br><span class="line"><span class="keyword">const</span> bar = (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Hello!&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;what a wonderful world.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JSX中使用注释</span></span><br><span class="line"><span class="keyword">const</span> bar = (</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// comment</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#123;<span class="comment">/* comment */</span>&#125;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Hello!&lt;/h1&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">      comment</span></span><br><span class="line"><span class="comment">      ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;</span><br><span class="line">    &lt;p&gt;what a wonderful world.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>总结:</p>
<ul>
<li>在JSX中可以插入任何JavaScript表达式,表达式需要用<code>{}</code>包裹起来,插入字符串用<code>&quot;&quot;</code>包裹</li>
<li>JSX表达式可以像JavaScript对象一样,可以被赋值,传参和<code>return</code></li>
<li>JSX分割成多行时,需要使用<code>()</code>包裹起来,避免浏览器自动插入分号</li>
<li>JSX中的所有标签必须闭合</li>
<li>JSX属性采用驼峰式命名,<code>class</code>属性必须写成<code>className</code>,<code>tabindex</code>属性必须写成<code>tabIndex</code>,<code>for</code>属性必须写成<code>htmlFor</code></li>
<li>JSX在渲染之前,所有东西转换为字符串,可以防止XSS攻击</li>
<li>Babel通过调用<code>React.createElement()</code>API来编译JSX,React必须在JSX代码的作用域内</li>
<li>JSX通过<code>React.createElement()</code>API将JSX转化为React Object</li>
</ul>
</div><div class="entry-extra"><div class="entry-tags"><a href="/tags/JSX/" class="tag">JSX</a></div></div></div></article></div></main><footer><div class="copyright container"></div><!--    - var currentDate = new Date();--><!--	  - var year = currentDate.getFullYear();--><!--    - var start = config.startYear;--><!--    - year = year == start ? year : (start ? start + ' - ' + year : year);--><!--    p © Copyright #{year} by #[a(href=config.url)!= config.author].	p E-mail: yie@live.cn--></footer><script async src="//cdn.bootcss.com/mathjax/2.7.0-beta.0/MathJax.js"></script><script async src="//raw.githack.com/Easyfood/pageAccelerator/master/dist/page-accelerator.min.js"></script><script async src="/script/loading.js"></script><script async src="/script/photo.js"></script></body></html>